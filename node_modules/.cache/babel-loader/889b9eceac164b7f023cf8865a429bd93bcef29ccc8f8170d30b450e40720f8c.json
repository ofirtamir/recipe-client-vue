{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/User/Documents/GitHub/assignment2-1-208897991_208009845/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/User/Documents/GitHub/assignment2-1-208897991_208009845/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport axios from 'axios'; // Import axios to handle the HTTP requests\n\nexport default {\n  name: \"Modal\",\n  data: function data() {\n    return {\n      showModal: false,\n      recipe: {\n        recipeId: '',\n        image: '',\n        title: '',\n        readyInMinutes: '',\n        aggregateLikes: '',\n        vegetarian: false,\n        vegan: false,\n        glutenFree: false,\n        summary: '',\n        instructions: '',\n        analyzedInstructions: ''\n      }\n    };\n  },\n  methods: {\n    toggleModal: function toggleModal() {\n      this.showModal = !this.showModal;\n    },\n    resetForm: function resetForm() {\n      this.recipe = {\n        recipeId: '',\n        image: '',\n        title: '',\n        readyInMinutes: '',\n        aggregateLikes: '',\n        vegetarian: false,\n        vegan: false,\n        glutenFree: false,\n        summary: '',\n        instructions: '',\n        analyzedInstructions: ''\n      };\n    },\n    submitForm: function submitForm() {\n      var _this = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.post(_this.$root.store.server_domain + '/users/addmyRecipe', _this.recipe);\n            case 3:\n              response = _context.sent;\n              if (response.status === 200) {\n                _this.$bvToast.toast('Recipe added successfully', {\n                  title: 'Success',\n                  variant: 'success',\n                  solid: true\n                });\n                _this.toggleModal();\n                _this.resetForm();\n              } else {\n                _this.$bvToast.toast('Error adding recipe', {\n                  title: 'Error',\n                  variant: 'danger',\n                  solid: true\n                });\n              }\n              _context.next = 11;\n              break;\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              console.error('Error:', _context.t0);\n              _this.$bvToast.toast('Error adding recipe', {\n                title: 'Error',\n                variant: 'danger',\n                solid: true\n              });\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 7]]);\n      }))();\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","showModal","recipe","recipeId","image","title","readyInMinutes","aggregateLikes","vegetarian","vegan","glutenFree","summary","instructions","analyzedInstructions","methods","toggleModal","resetForm","submitForm","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","post","$root","store","server_domain","sent","status","$bvToast","toast","variant","solid","t0","console","error","stop"],"sources":["src/components/Modal.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <b-modal\r\n      id=\"new-recipe-modal\"\r\n      title=\"Add New Recipe\"\r\n      v-model=\"showModal\"\r\n      @hide=\"resetForm\"\r\n    >\r\n      <b-form @submit.prevent=\"submitForm\">\r\n        <!-- Recipe ID -->\r\n        <b-form-group label=\"Recipe ID:\" label-for=\"recipe-id\">\r\n          <b-form-input\r\n            id=\"recipe-id\"\r\n            v-model=\"recipe.recipeId\"\r\n            required\r\n            placeholder=\"Enter recipe ID\"\r\n          ></b-form-input>\r\n        </b-form-group>\r\n\r\n        <!-- Recipe Title -->\r\n        <b-form-group label=\"Recipe Title:\" label-for=\"recipe-title\">\r\n          <b-form-input\r\n            id=\"recipe-title\"\r\n            v-model=\"recipe.title\"\r\n            required\r\n            placeholder=\"Enter recipe title\"\r\n          ></b-form-input>\r\n        </b-form-group>\r\n\r\n        <!-- Recipe Image -->\r\n        <b-form-group label=\"Image URL:\" label-for=\"recipe-image\">\r\n          <b-form-input\r\n            id=\"recipe-image\"\r\n            v-model=\"recipe.image\"\r\n            required\r\n            placeholder=\"Enter image URL\"\r\n          ></b-form-input>\r\n        </b-form-group>\r\n\r\n        <!-- Ready in Minutes -->\r\n        <b-form-group label=\"Ready in Minutes:\" label-for=\"recipe-readyinminutes\">\r\n          <b-form-input\r\n            id=\"recipe-readyinminutes\"\r\n            v-model=\"recipe.readyInMinutes\"\r\n            type=\"number\"\r\n            required\r\n            placeholder=\"Enter ready time in minutes\"\r\n          ></b-form-input>\r\n        </b-form-group>\r\n\r\n        <!-- Aggregate Likes -->\r\n        <b-form-group label=\"Aggregate Likes:\" label-for=\"recipe-aggregatelikes\">\r\n          <b-form-input\r\n            id=\"recipe-aggregatelikes\"\r\n            v-model=\"recipe.aggregateLikes\"\r\n            type=\"number\"\r\n            required\r\n            placeholder=\"Enter aggregate likes\"\r\n          ></b-form-input>\r\n        </b-form-group>\r\n\r\n        <!-- Vegetarian -->\r\n        <b-form-group label=\"Vegetarian:\" label-for=\"recipe-vegetarian\">\r\n          <b-form-checkbox v-model=\"recipe.vegetarian\">\r\n            Is Vegetarian\r\n          </b-form-checkbox>\r\n        </b-form-group>\r\n\r\n        <!-- Vegan -->\r\n        <b-form-group label=\"Vegan:\" label-for=\"recipe-vegan\">\r\n          <b-form-checkbox v-model=\"recipe.vegan\">\r\n            Is Vegan\r\n          </b-form-checkbox>\r\n        </b-form-group>\r\n\r\n        <!-- Gluten Free -->\r\n        <b-form-group label=\"Gluten Free:\" label-for=\"recipe-glutenfree\">\r\n          <b-form-checkbox v-model=\"recipe.glutenFree\">\r\n            Is Gluten Free\r\n          </b-form-checkbox>\r\n        </b-form-group>\r\n\r\n        <!-- Summary -->\r\n        <b-form-group label=\"Summary:\" label-for=\"recipe-summary\">\r\n          <b-form-textarea\r\n            id=\"recipe-summary\"\r\n            v-model=\"recipe.summary\"\r\n            required\r\n            placeholder=\"Enter summary\"\r\n            rows=\"3\"\r\n          ></b-form-textarea>\r\n        </b-form-group>\r\n\r\n        <!-- Instructions -->\r\n        <b-form-group label=\"Instructions:\" label-for=\"recipe-instructions\">\r\n          <b-form-textarea\r\n            id=\"recipe-instructions\"\r\n            v-model=\"recipe.instructions\"\r\n            required\r\n            placeholder=\"Enter instructions\"\r\n            rows=\"3\"\r\n          ></b-form-textarea>\r\n        </b-form-group>\r\n\r\n        <!-- Analyzed Instructions -->\r\n        <b-form-group label=\"Analyzed Instructions:\" label-for=\"recipe-analyzedinstructions\">\r\n          <b-form-textarea\r\n            id=\"recipe-analyzedinstructions\"\r\n            v-model=\"recipe.analyzedInstructions\"\r\n            required\r\n            placeholder=\"Enter analyzed instructions\"\r\n            rows=\"3\"\r\n          ></b-form-textarea>\r\n        </b-form-group>\r\n        \r\n      </b-form>\r\n      <template #modal-footer=\"{ cancel }\">\r\n        <b-button variant=\"danger\" @click=\"cancel()\">Cancel</b-button>\r\n        <b-button variant=\"secondary\" @click=\"resetForm\">Clear Form</b-button>\r\n        <b-button variant=\"success\" @click=\"submitForm\">OK</b-button>\r\n      </template>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'; // Import axios to handle the HTTP requests\r\n\r\nexport default {\r\n  name: \"Modal\",\r\n  data() {\r\n    return {\r\n      showModal: false,\r\n      recipe: {\r\n        recipeId: '',\r\n        image: '',\r\n        title: '',\r\n        readyInMinutes: '',\r\n        aggregateLikes: '',\r\n        vegetarian: false,\r\n        vegan: false,\r\n        glutenFree: false,\r\n        summary: '',\r\n        instructions: '',\r\n        analyzedInstructions: ''\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    toggleModal() {\r\n      this.showModal = !this.showModal;\r\n    },\r\n    resetForm() {\r\n      this.recipe = {\r\n        recipeId: '',\r\n        image: '',\r\n        title: '',\r\n        readyInMinutes: '',\r\n        aggregateLikes: '',\r\n        vegetarian: false,\r\n        vegan: false,\r\n        glutenFree: false,\r\n        summary: '',\r\n        instructions: '',\r\n        analyzedInstructions: ''\r\n      };\r\n    },\r\n    async submitForm() {\r\n      try {\r\n        // שליחה של בקשת POST לנתיב /addRecipe\r\n        const response = await axios.post(this.$root.store.server_domain +'/users/addmyRecipe', this.recipe);\r\n        if (response.status === 200) {\r\n          this.$bvToast.toast('Recipe added successfully', {\r\n            title: 'Success',\r\n            variant: 'success',\r\n            solid: true\r\n          });\r\n          this.toggleModal();\r\n          this.resetForm();\r\n        } else {\r\n          this.$bvToast.toast('Error adding recipe', {\r\n            title: 'Error',\r\n            variant: 'danger',\r\n            solid: true\r\n          });\r\n        }\r\n      } catch (error) {\r\n        console.error('Error:', error);\r\n        this.$bvToast.toast('Error adding recipe', {\r\n          title: 'Error',\r\n          variant: 'danger',\r\n          solid: true\r\n        });\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Add any custom styles here */\r\n</style>\r\n"],"mappings":";;AA8HA,OAAAA,KAAA;;AAEA;EACAC,IAAA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,SAAA;MACAC,MAAA;QACAC,QAAA;QACAC,KAAA;QACAC,KAAA;QACAC,cAAA;QACAC,cAAA;QACAC,UAAA;QACAC,KAAA;QACAC,UAAA;QACAC,OAAA;QACAC,YAAA;QACAC,oBAAA;MACA;IACA;EACA;EACAC,OAAA;IACAC,WAAA,WAAAA,YAAA;MACA,KAAAd,SAAA,SAAAA,SAAA;IACA;IACAe,SAAA,WAAAA,UAAA;MACA,KAAAd,MAAA;QACAC,QAAA;QACAC,KAAA;QACAC,KAAA;QACAC,cAAA;QACAC,cAAA;QACAC,UAAA;QACAC,KAAA;QACAC,UAAA;QACAC,OAAA;QACAC,YAAA;QACAC,oBAAA;MACA;IACA;IACAI,UAAA,WAAAA,WAAA;MAAA,IAAAC,KAAA;MAAA,OAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,QAAA;QAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAGA9B,KAAA,CAAA+B,IAAA,CAAAX,KAAA,CAAAY,KAAA,CAAAC,KAAA,CAAAC,aAAA,yBAAAd,KAAA,CAAAhB,MAAA;YAAA;cAAAqB,QAAA,GAAAG,QAAA,CAAAO,IAAA;cACA,IAAAV,QAAA,CAAAW,MAAA;gBACAhB,KAAA,CAAAiB,QAAA,CAAAC,KAAA;kBACA/B,KAAA;kBACAgC,OAAA;kBACAC,KAAA;gBACA;gBACApB,KAAA,CAAAH,WAAA;gBACAG,KAAA,CAAAF,SAAA;cACA;gBACAE,KAAA,CAAAiB,QAAA,CAAAC,KAAA;kBACA/B,KAAA;kBACAgC,OAAA;kBACAC,KAAA;gBACA;cACA;cAAAZ,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAa,EAAA,GAAAb,QAAA;cAEAc,OAAA,CAAAC,KAAA,WAAAf,QAAA,CAAAa,EAAA;cACArB,KAAA,CAAAiB,QAAA,CAAAC,KAAA;gBACA/B,KAAA;gBACAgC,OAAA;gBACAC,KAAA;cACA;YAAA;YAAA;cAAA,OAAAZ,QAAA,CAAAgB,IAAA;UAAA;QAAA,GAAApB,OAAA;MAAA;IAEA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
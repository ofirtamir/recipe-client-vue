{"ast":null,"code":"import \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport draggable from 'vuedraggable';\nimport RecipePreview from './RecipePreview.vue';\nexport default {\n  name: 'MealPlanningPage',\n  components: {\n    draggable: draggable,\n    RecipePreview: RecipePreview\n  },\n  data: function data() {\n    return {\n      mealPlan: JSON.parse(localStorage.getItem('mealPlan')) || []\n    };\n  },\n  methods: {\n    calculateProgress: function calculateProgress(recipe) {\n      var savedProgress = JSON.parse(localStorage.getItem('recipeProgress')) || {};\n      var progress = savedProgress[recipe.id] || [];\n      var totalSteps = recipe.steps.length;\n      var completedSteps = progress.filter(function (step) {\n        return step.completed;\n      }).length;\n      return completedSteps / totalSteps * 100;\n    },\n    removeRecipe: function removeRecipe(index) {\n      this.mealPlan.splice(index, 1);\n      this.saveMealPlan();\n    },\n    clearMealPlan: function clearMealPlan() {\n      this.mealPlan = [];\n      this.saveMealPlan();\n    },\n    saveMealPlan: function saveMealPlan() {\n      localStorage.setItem('mealPlan', JSON.stringify(this.mealPlan));\n    }\n  },\n  watch: {\n    mealPlan: {\n      handler: function handler() {\n        this.saveMealPlan();\n      },\n      deep: true\n    }\n  }\n};","map":{"version":3,"names":["draggable","RecipePreview","name","components","data","mealPlan","JSON","parse","localStorage","getItem","methods","calculateProgress","recipe","savedProgress","progress","id","totalSteps","steps","length","completedSteps","filter","step","completed","removeRecipe","index","splice","saveMealPlan","clearMealPlan","setItem","stringify","watch","handler","deep"],"sources":["src/pages/MealPlanningPage.vue"],"sourcesContent":["<template>\r\n  <b-container>\r\n    <h1>Meal Planning Page</h1>\r\n    <b-button @click=\"clearMealPlan\">Clear Meal Plan</b-button>\r\n    <b-list-group>\r\n      <draggable v-model=\"mealPlan\" tag=\"div\">\r\n        <b-list-group-item v-for=\"(recipe, index) in mealPlan\" :key=\"recipe.id\">\r\n          <RecipePreview :recipe=\"recipe\" />\r\n          <b-progress :value=\"calculateProgress(recipe)\" max=\"100\" class=\"mt-2\"></b-progress>\r\n          <b-button @click=\"removeRecipe(index)\" variant=\"danger\" class=\"mt-2\">Remove</b-button>\r\n        </b-list-group-item>\r\n      </draggable>\r\n    </b-list-group>\r\n  </b-container>\r\n</template>\r\n\r\n<script>\r\nimport draggable from 'vuedraggable';\r\nimport RecipePreview from './RecipePreview.vue';\r\n\r\nexport default {\r\n  name: 'MealPlanningPage',\r\n  components: {\r\n    draggable,\r\n    RecipePreview\r\n  },\r\n  data() {\r\n    return {\r\n      mealPlan: JSON.parse(localStorage.getItem('mealPlan')) || []\r\n    };\r\n  },\r\n  methods: {\r\n    calculateProgress(recipe) {\r\n      const savedProgress = JSON.parse(localStorage.getItem('recipeProgress')) || {};\r\n      const progress = savedProgress[recipe.id] || [];\r\n      const totalSteps = recipe.steps.length;\r\n      const completedSteps = progress.filter(step => step.completed).length;\r\n      return (completedSteps / totalSteps) * 100;\r\n    },\r\n    removeRecipe(index) {\r\n      this.mealPlan.splice(index, 1);\r\n      this.saveMealPlan();\r\n    },\r\n    clearMealPlan() {\r\n      this.mealPlan = [];\r\n      this.saveMealPlan();\r\n    },\r\n    saveMealPlan() {\r\n      localStorage.setItem('mealPlan', JSON.stringify(this.mealPlan));\r\n    }\r\n  },\r\n  watch: {\r\n    mealPlan: {\r\n      handler() {\r\n        this.saveMealPlan();\r\n      },\r\n      deep: true\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nh1 {\r\n  text-align: center;\r\n}\r\n</style>"],"mappings":";;;;AAiBA,OAAAA,SAAA;AACA,OAAAC,aAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IACAH,SAAA,EAAAA,SAAA;IACAC,aAAA,EAAAA;EACA;EACAG,IAAA,WAAAA,KAAA;IACA;MACAC,QAAA,EAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;IACA;EACA;EACAC,OAAA;IACAC,iBAAA,WAAAA,kBAAAC,MAAA;MACA,IAAAC,aAAA,GAAAP,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;MACA,IAAAK,QAAA,GAAAD,aAAA,CAAAD,MAAA,CAAAG,EAAA;MACA,IAAAC,UAAA,GAAAJ,MAAA,CAAAK,KAAA,CAAAC,MAAA;MACA,IAAAC,cAAA,GAAAL,QAAA,CAAAM,MAAA,WAAAC,IAAA;QAAA,OAAAA,IAAA,CAAAC,SAAA;MAAA,GAAAJ,MAAA;MACA,OAAAC,cAAA,GAAAH,UAAA;IACA;IACAO,YAAA,WAAAA,aAAAC,KAAA;MACA,KAAAnB,QAAA,CAAAoB,MAAA,CAAAD,KAAA;MACA,KAAAE,YAAA;IACA;IACAC,aAAA,WAAAA,cAAA;MACA,KAAAtB,QAAA;MACA,KAAAqB,YAAA;IACA;IACAA,YAAA,WAAAA,aAAA;MACAlB,YAAA,CAAAoB,OAAA,aAAAtB,IAAA,CAAAuB,SAAA,MAAAxB,QAAA;IACA;EACA;EACAyB,KAAA;IACAzB,QAAA;MACA0B,OAAA,WAAAA,QAAA;QACA,KAAAL,YAAA;MACA;MACAM,IAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
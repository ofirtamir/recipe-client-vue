{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/User/Documents/GitHub/assignment2-1-208897991_208009845/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _toConsumableArray from \"C:/Users/User/Documents/GitHub/assignment2-1-208897991_208009845/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _asyncToGenerator from \"C:/Users/User/Documents/GitHub/assignment2-1-208897991_208009845/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/es.array.reduce.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport { mockGetRecipeFullDetails } from \"../services/recipes.js\";\nexport default {\n  data: function data() {\n    return {\n      recipe: null\n    };\n  },\n  created: function created() {\n    var _this = this;\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var response, _response$data$recipe, analyzedInstructions, instructions, extendedIngredients, aggregateLikes, readyInMinutes, image, title, _instructions, _recipe;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.prev = 1;\n            // response = await this.axios.get(\n            //   this.$root.store.server_domain + \"/recipes/\" + this.$route.params.recipeId,\n            //   {\n            //     withCredentials: true\n            //   }\n            // );\n\n            response = mockGetRecipeFullDetails(_this.$route.params.recipeId);\n\n            // console.log(\"response.status\", response.status);\n            if (response.status !== 200) _this.$router.replace(\"/NotFound\");\n            _context.next = 11;\n            break;\n          case 6:\n            _context.prev = 6;\n            _context.t0 = _context[\"catch\"](1);\n            console.log(\"error.response.status\", _context.t0.response.status);\n            _this.$router.replace(\"/NotFound\");\n            return _context.abrupt(\"return\");\n          case 11:\n            _response$data$recipe = response.data.recipe, analyzedInstructions = _response$data$recipe.analyzedInstructions, instructions = _response$data$recipe.instructions, extendedIngredients = _response$data$recipe.extendedIngredients, aggregateLikes = _response$data$recipe.aggregateLikes, readyInMinutes = _response$data$recipe.readyInMinutes, image = _response$data$recipe.image, title = _response$data$recipe.title;\n            _instructions = analyzedInstructions.map(function (fstep) {\n              fstep.steps[0].step = fstep.name + fstep.steps[0].step;\n              return fstep.steps;\n            }).reduce(function (a, b) {\n              return [].concat(_toConsumableArray(a), _toConsumableArray(b));\n            }, []);\n            _recipe = {\n              instructions: instructions,\n              _instructions: _instructions,\n              analyzedInstructions: analyzedInstructions,\n              extendedIngredients: extendedIngredients,\n              aggregateLikes: aggregateLikes,\n              readyInMinutes: readyInMinutes,\n              image: image,\n              title: title\n            };\n            _this.recipe = _recipe;\n            _context.next = 20;\n            break;\n          case 17:\n            _context.prev = 17;\n            _context.t1 = _context[\"catch\"](0);\n            console.log(_context.t1);\n          case 20:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[0, 17], [1, 6]]);\n    }))();\n  }\n};","map":{"version":3,"names":["mockGetRecipeFullDetails","data","recipe","created","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","_response$data$recipe","analyzedInstructions","instructions","extendedIngredients","aggregateLikes","readyInMinutes","image","title","_instructions","_recipe","wrap","_callee$","_context","prev","next","$route","params","recipeId","status","$router","replace","t0","console","log","abrupt","map","fstep","steps","step","name","reduce","a","b","concat","_toConsumableArray","t1","stop"],"sources":["src/pages/RecipeViewPage.vue"],"sourcesContent":["<template>\r\n\r\n    <div v-if=\"recipe\">\r\n        <div class=\"container\">\r\n    <div>\r\n  <b-jumbotron>\r\n    <template #header>{{ recipe.title }}</template>\r\n    <b-container fluid class=\"p-4 bg-dark\" bg-variant=\"primary\">\r\n  <b-row>\r\n    <b-col>\r\n      <img :src=\"recipe.image\" class=\"center\" />\r\n    </b-col>\r\n    <b-col>\r\n   <h2>Ingredients: </h2>\r\n            <ul>\r\n               <b-list-group>\r\n         <b-list-group-item  v-for=\"(r, index) in recipe.extendedIngredients\"\r\n                :key=\"index + '_' + r.id\"> {{ r.original }}</b-list-group-item>\r\n              </b-list-group>\r\n            </ul>\r\n    </b-col>\r\n  </b-row>\r\n</b-container>\r\n\r\n    <template #lead>\r\n        <span v-if=\"recipe.vegetarian\"><img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/e/ee/Vegetarian-mark.svg/1200px-Vegetarian-mark.svg.png\" class=\"vegi\" /></span>\r\n        <span v-if=\"recipe.vegan\"><img src=\"https://uxwing.com/wp-content/themes/uxwing/download/food-and-drinks/vegan-icon.png\" class=\"vegan\" /></span>\r\n        <span v-if=\"recipe.glutenFree\"><img src=\"https://cdn-icons-png.flaticon.com/512/4337/4337722.png\" class=\"glutenFree\" /></span>\r\n              <div class=\"ready\">Ready in {{ recipe.readyInMinutes }} minutes   <b-icon icon=\"alarm-fill\" variant=\"info\"></b-icon></div>\r\n              <div>Likes: {{ recipe.aggregateLikes }} likes  <b-icon icon=\"suit-heart-fill\" variant=\"info\"></b-icon> </div>\r\n              \r\n    </template>\r\n\r\n    <hr class=\"my-4\">\r\n\r\n    \r\n         \r\n          \r\n    <b-card bg-variant=\"dark\" text-variant=\"white\" title=\"Instructions:\">\r\n       <b-card-text>\r\n              <!-- <li v-for=\"s in recipe.instructions\" :key=\"s.number\">\r\n               {{ s.step }}</li> -->\r\n               {{recipe.instructions}}\r\n         </b-card-text>\r\n    </b-card>\r\n\r\n  </b-jumbotron>\r\n</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mockGetRecipeFullDetails } from \"../services/recipes.js\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      recipe: null\r\n    };\r\n  },\r\n  async created() {\r\n    try {\r\n      let response;\r\n      // response = this.$route.params.response;\r\n\r\n      try {\r\n        // response = await this.axios.get(\r\n        //   this.$root.store.server_domain + \"/recipes/\" + this.$route.params.recipeId,\r\n        //   {\r\n        //     withCredentials: true\r\n        //   }\r\n        // );\r\n\r\n        response = mockGetRecipeFullDetails(this.$route.params.recipeId);\r\n\r\n        // console.log(\"response.status\", response.status);\r\n        if (response.status !== 200) this.$router.replace(\"/NotFound\");\r\n      } catch (error) {\r\n        console.log(\"error.response.status\", error.response.status);\r\n        this.$router.replace(\"/NotFound\");\r\n        return;\r\n      }\r\n\r\n      let {\r\n        analyzedInstructions,\r\n        instructions,\r\n        extendedIngredients,\r\n        aggregateLikes,\r\n        readyInMinutes,\r\n        image,\r\n        title\r\n      } = response.data.recipe;\r\n\r\n      let _instructions = analyzedInstructions\r\n        .map((fstep) => {\r\n          fstep.steps[0].step = fstep.name + fstep.steps[0].step;\r\n          return fstep.steps;\r\n        })\r\n        .reduce((a, b) => [...a, ...b], []);\r\n\r\n      let _recipe = {\r\n        instructions,\r\n        _instructions,\r\n        analyzedInstructions,\r\n        extendedIngredients,\r\n        aggregateLikes,\r\n        readyInMinutes,\r\n        image,\r\n        title\r\n      };\r\n\r\n      this.recipe = _recipe;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.wrapper {\r\n  display: flex;\r\n}\r\n.wrapped {\r\n  width: 50%;\r\n}\r\n.center {\r\n  display: block;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  width: 50%;\r\n}\r\n/* .recipe-header{\r\n\r\n} */\r\n\r\n.favorite-icon,\r\n.vegan,\r\n.glutenFree,\r\n.vegi {\r\n  width: 30px;\r\n  height: auto;\r\n  margin-right: 5px;\r\n}\r\n</style>\r\n"],"mappings":";;;;;;;;;;AAqDA,SAAAA,wBAAA;AACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,MAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;MAAA,IAAAC,QAAA,EAAAC,qBAAA,EAAAC,oBAAA,EAAAC,YAAA,EAAAC,mBAAA,EAAAC,cAAA,EAAAC,cAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,aAAA,EAAAC,OAAA;MAAA,OAAAb,mBAAA,GAAAc,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAAF,QAAA,CAAAC,IAAA;YAAAD,QAAA,CAAAC,IAAA;YAMA;YACA;YACA;YACA;YACA;YACA;;YAEAd,QAAA,GAAAT,wBAAA,CAAAI,KAAA,CAAAqB,MAAA,CAAAC,MAAA,CAAAC,QAAA;;YAEA;YACA,IAAAlB,QAAA,CAAAmB,MAAA,UAAAxB,KAAA,CAAAyB,OAAA,CAAAC,OAAA;YAAAR,QAAA,CAAAE,IAAA;YAAA;UAAA;YAAAF,QAAA,CAAAC,IAAA;YAAAD,QAAA,CAAAS,EAAA,GAAAT,QAAA;YAEAU,OAAA,CAAAC,GAAA,0BAAAX,QAAA,CAAAS,EAAA,CAAAtB,QAAA,CAAAmB,MAAA;YACAxB,KAAA,CAAAyB,OAAA,CAAAC,OAAA;YAAA,OAAAR,QAAA,CAAAY,MAAA;UAAA;YAAAxB,qBAAA,GAYAD,QAAA,CAAAR,IAAA,CAAAC,MAAA,EAPAS,oBAAA,GAAAD,qBAAA,CAAAC,oBAAA,EACAC,YAAA,GAAAF,qBAAA,CAAAE,YAAA,EACAC,mBAAA,GAAAH,qBAAA,CAAAG,mBAAA,EACAC,cAAA,GAAAJ,qBAAA,CAAAI,cAAA,EACAC,cAAA,GAAAL,qBAAA,CAAAK,cAAA,EACAC,KAAA,GAAAN,qBAAA,CAAAM,KAAA,EACAC,KAAA,GAAAP,qBAAA,CAAAO,KAAA;YAGAC,aAAA,GAAAP,oBAAA,CACAwB,GAAA,WAAAC,KAAA;cACAA,KAAA,CAAAC,KAAA,IAAAC,IAAA,GAAAF,KAAA,CAAAG,IAAA,GAAAH,KAAA,CAAAC,KAAA,IAAAC,IAAA;cACA,OAAAF,KAAA,CAAAC,KAAA;YACA,GACAG,MAAA,WAAAC,CAAA,EAAAC,CAAA;cAAA,UAAAC,MAAA,CAAAC,kBAAA,CAAAH,CAAA,GAAAG,kBAAA,CAAAF,CAAA;YAAA;YAEAvB,OAAA;cACAP,YAAA,EAAAA,YAAA;cACAM,aAAA,EAAAA,aAAA;cACAP,oBAAA,EAAAA,oBAAA;cACAE,mBAAA,EAAAA,mBAAA;cACAC,cAAA,EAAAA,cAAA;cACAC,cAAA,EAAAA,cAAA;cACAC,KAAA,EAAAA,KAAA;cACAC,KAAA,EAAAA;YACA;YAEAb,KAAA,CAAAF,MAAA,GAAAiB,OAAA;YAAAG,QAAA,CAAAE,IAAA;YAAA;UAAA;YAAAF,QAAA,CAAAC,IAAA;YAAAD,QAAA,CAAAuB,EAAA,GAAAvB,QAAA;YAEAU,OAAA,CAAAC,GAAA,CAAAX,QAAA,CAAAuB,EAAA;UAAA;UAAA;YAAA,OAAAvB,QAAA,CAAAwB,IAAA;QAAA;MAAA,GAAAtC,OAAA;IAAA;EAEA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}